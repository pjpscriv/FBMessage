<mat-list>
  <mat-list-item>
    <h1>Chats</h1>
  </mat-list-item>

  <mat-list-item>
    <mat-form-field appearance="fill">
      <mat-label>Sort By</mat-label>
      <mat-icon matPrefix>sort</mat-icon>
      <mat-select
        [value]="selectedSort"
        (valueChange)="sortChange($event)"
        [compareWith]="compareSorts"
        disableOptionCentering="true">
        <mat-option *ngFor="let sort of sortTypes" [value]="sort">
          {{ sort.text }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </mat-list-item>

  <mat-list-item *ngFor="let thread of threads$ | async">
    <mat-icon *ngIf="thread.nb_participants < 4" matListAvatar>
      {{getIcon(thread)}}
    </mat-icon>
    <mat-icon *ngIf="thread.nb_participants > 3" matListAvatar [matBadge]="thread.nb_participants" matBadgePosition="below">
      {{getIcon(thread)}}
    </mat-icon>
    <h3 matLine>{{thread.title}}</h3>
    <p matLine><span>{{thread.id}}</span></p>
    <p matLine><span>{{thread.nb_messsages}} Messages</span></p>
  </mat-list-item>

</mat-list>
