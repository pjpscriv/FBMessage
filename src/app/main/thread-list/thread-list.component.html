<mat-list>
  <mat-list-item>
    <h1>Threads</h1>
  </mat-list-item>

  <mat-list-item>
    <mat-form-field
      appearance="fill"
      disableOptionCentering="true">
      <mat-label>Sort By</mat-label>
      <mat-select [(value)]="thing2">
        <mat-option
          *ngFor="let sort of thing | keyvalue"
          [value]="sort.key">
          {{ sort.value }}
        </mat-option>
      </mat-select>
      <mat-icon matSuffix>sort</mat-icon>
    </mat-form-field>
  </mat-list-item>

  <mat-list-item *ngFor="let thread of threads$ | async">
    <mat-icon *ngIf="thread.nb_participants < 4" matListAvatar>
      {{getIcon(thread)}}
    </mat-icon>
    <mat-icon *ngIf="thread.nb_participants > 3" matListAvatar [matBadge]="thread.nb_participants" matBadgePosition="below">
      {{getIcon(thread)}}
    </mat-icon>
    <h3 matLine>{{thread.title}}</h3>
    <p matLine><span>{{thread.id}}</span></p>
    <p matLine><span>{{thread.nb_messsages}} Messages</span></p>
  </mat-list-item>

</mat-list>
